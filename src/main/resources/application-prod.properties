## Production profile properties - Postgres datasource
# These values prefer environment variables; set them in your deployment environment.
spring.datasource.url=${JDBC_DATABASE_URL:jdbc:postgresql://localhost:5432/authdb}
spring.datasource.username=${JDBC_DATABASE_USERNAME:username}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

# Use PostgreSQL dialect for Hibernate in production
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# Recommended for production: validate or update depending on your migration strategy
spring.jpa.hibernate.ddl-auto=validate

# Do not run SQL init scripts unless explicitly configured for prod
spring.sql.init.mode=never

# Logging (optional)
logging.level.org.springframework.jdbc.core=INFO
logging.level.org.hibernate.SQL=INFO

# Redis connection
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.username=
spring.data.redis.password=

# Store HTTP sessions in Redis
spring.session.store-type=redis
spring.session.redis.namespace=spring:session

# Enable SSL/TLS for Redis connection if needed
spring.data.redis.ssl.enabled=false

# Flush Redis cache on save
spring.session.redis.flush-mode=on_save

# Session timeout in minutes
server.servlet.session.timeout=30m

# Optional: cache defaults
spring.cache.type=redis